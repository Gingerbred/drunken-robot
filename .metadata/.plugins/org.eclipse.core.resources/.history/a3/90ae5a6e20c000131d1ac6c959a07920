

	import java.io.*;
	import java.util.*;
	public class MagickShoppe {
	

	    public  void init(){
	    	System.out.println("Why hello there! Is this your first time here? Excuse me while I set things up...");
	    	readMagicItemsFromFile("MagItems.txt", lm1);
	    	transaction();
	    }
	    public boolean transaction(){
	    	System.out.println("Hello again! How've ya been? Oh, I keep forgetting you're a robot. \n Pick an item from the stock");
	    	selection=purchase.nextLine();
	    	return sequentialSearch(lm1, selection);
	    }

	    //
	    // Private
	    //
	    private static boolean sequentialSearch(List0 lm,
	                                             String target) {
	        ListItem retVal = null;
	        System.out.println("Searching for " + target + ".");
	        int counter = 0;
	        ListItem currentItem = new ListItem();
	        currentItem = lm.getHead();
	        boolean isFound = false;
	        while ( (!isFound) && (currentItem != null) ) {
	            counter = counter +1;
	            if (currentItem.getName().equalsIgnoreCase(target)) {
	                // We found it!
	                isFound = true;
	                retVal = currentItem;
	            } else {
	                // Keep looking.
	                currentItem = currentItem.getNext();
	            }
	        }
	        if (isFound) {
	            System.out.println("Hey sorry about the wait. I found the "+ target +" that you requested. ");
	            currentItem.toString();
	            System.out.println("Do you want to purchase this item? Enter true or false to continue...");
	            boolean buy = purchase.nextBoolean();
	            return buy;
	        } else {
	            System.out.println("Sorry, I couldn't find " + target + " in my stock. \nCheck your inventory to see if you have already purchased the item. \nYou also could have asked for an item I don't have.");
	        return false;
	        }
			


	    }


	    private static void readMagicItemsFromFile(String fileName,
	                                               List0 lm) {
	        File myFile = new File(fileName);
	        try {
	            Scanner input = new Scanner(myFile);
	            while (input.hasNext()) {
	                // Read a line from the file.
	                String itemName = input.nextLine();

	                // Construct a new list item and set its attributes.
	                ListItem fileItem = new ListItem();
	                fileItem.setName(itemName);
	                fileItem.setCost((int) (Math.random() * 100));
	                fileItem.setNext(null); // Still redundant. Still safe.

	                // Add the newly constructed item to the list.
	                lm.add(fileItem);
	            }
	            // Close the file.
	            input.close();
	        } catch (FileNotFoundException ex) {
	            System.out.println("File not found. " + ex.toString());
	        }
	    }
//Instance variables
	  private  List0 lm1 = new List0();
	  private static  Scanner purchase= new Scanner(System.in);
	  private  String selection;
	}
	
